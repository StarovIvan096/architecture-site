(()=>{"use strict";(()=>{const e=document.querySelector("body");document.querySelector(".change-theme").addEventListener("click",(()=>{e.classList.toggle("light"),e.classList.toggle("dark")}))})(),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector("body"),t=document.querySelector(".block-slider"),n=document.querySelectorAll(".style-project"),r=document.querySelector(".image-project"),s=document.querySelectorAll(".slide-image"),o=document.querySelector(".wrap-modal-img"),l=document.querySelector(".wrap-active-element img"),c=document.querySelector(".close-modal"),a=[],i=[];s.forEach((e=>{i.push(e.clientWidth)}));const d=(e=1)=>{const t=window.screen.width;let n=0;for(let t=0;t<e;t++)n+=i[t]+100;let o=s[e].clientWidth;o=(t-o)/2;let l=o-n;r.style.transform=`translateX(${l}px)`};d(),n.forEach(((e,r)=>{a.push(e.clientWidth),e.addEventListener("click",(e=>{const s=e.target;n.forEach((e=>{e.classList.remove("active")})),(e=>{e.classList.add("active")})(s),((e,n)=>{let r=45*e;for(let t=0;t<=e-1;t++)r+=a[t];((e,n)=>{let r=(window.screen.width-n)/2;var s;r-=e,s=r,t.style.transform=`translateX(${s}px)`})(r,n)})(r,s.clientWidth),d(r)}))})),(()=>{n[1].classList.add("active");const e=window.screen.width,r=n[0].clientWidth+45,s=(e-n[1].clientWidth)/2-r;t.style.transform=`translateX(${s}px)`})(),s.forEach((t=>{t.addEventListener("click",(t=>{console.log(t.target.src),l.src=t.target.src,o.style.display="block",e.style.overflow="hidden",setTimeout((()=>{c.style.display="block"}),1900)}))})),c.addEventListener("click",(()=>{c.style.display="none",o.style.display="none",e.style.overflow="auto"}))})),(()=>{const e=document.querySelector(".form"),t=document.getElementById("text-name"),n=document.getElementById("text-message"),r=document.querySelector(".wrap-modal-window-form");(()=>{const e=function(e){return/[а-яё\s\B]/i.test(e)},r=function(e){return/[а-яё\s\.\,]/gi.test(e)};t.addEventListener("keydown",(t=>{if(!e(t.key))return t.preventDefault()})),n.addEventListener("keydown",(e=>{if(!r(e.key))return e.preventDefault()}))})(),function(e,t="+7 (___) ___-__-__"){const n=document.querySelectorAll(e);function r(e){const n=e.keyCode,r=t,s=r.replace(/\D/g,""),o=this.value.replace(/\D/g,"");let l=0,c=r.replace(/[_\d]/g,(function(e){return l<o.length?o.charAt(l++)||s.charAt(l):e}));l=c.indexOf("_"),-1!=l&&(c=c.slice(0,l));let a=r.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");a=new RegExp("^"+a+"$"),(!a.test(this.value)||this.value.length<5||n>47&&n<58)&&(this.value=c),"blur"==e.type&&this.value.length<5&&(this.value="")}for(const e of n)e.addEventListener("input",r),e.addEventListener("focus",r),e.addEventListener("blur",r)}('input[id="text-number"]'),(e=>{const t=new Validator({selector:`${e.classList}`,pattern:/^\+7\s\(\d{3}\)\s\d{3}\-\d{2}\-\d{2}/,method:{"text-name":[["notEmpty"],["pattern","name"]],email:[["notEmpty"],["pattern","email"]],"text-number":[["notEmpty"],["pattern","number"]],"text-message":[["notEmpty"],["pattern","message"]]}});t.init();const n=()=>{r.classList.remove("modal-visibility")};e.addEventListener("submit",(o=>{if(o.preventDefault(),t.error.size>0)return o.preventDefault();const l=new FormData(e),c={};l.forEach(((e,t)=>{c[t]=e})),s(c).then((e=>{if(r.classList.add("modal-visibility"),200!==e.status)throw new Error(`status not defined: ${e.status}`);setTimeout(n,2e3)})).catch((e=>{console.error(e)})).finally((()=>{e.querySelectorAll("input").forEach((e=>{e.value=""}))}))}))})(e);const s=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})})()})();